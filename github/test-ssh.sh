#!/bin/bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å GitHub

echo "üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è"
echo "=============================="

# –¢–µ—Å—Ç 1: SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
echo "1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è..."
if ssh -T git@github.com 2>&1 | grep -q "successfully authenticated"; then
    echo "‚úÖ SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
else
    echo "‚ùå SSH —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
    echo "–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –¥–æ–±–∞–≤–ª–µ–Ω –≤ GitHub"
fi

# –¢–µ—Å—Ç 2: Git –æ–ø–µ—Ä–∞—Ü–∏–∏
echo ""
echo "2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Git –æ–ø–µ—Ä–∞—Ü–∏–π..."
if git ls-remote git@github.com:octocat/Hello-World.git > /dev/null 2>&1; then
    echo "‚úÖ Git –æ–ø–µ—Ä–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç"
else
    echo "‚ùå Git –æ–ø–µ—Ä–∞—Ü–∏–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç"
fi

# –¢–µ—Å—Ç 3: SSH agent
echo ""
echo "3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ SSH agent..."
if ssh-add -l > /dev/null 2>&1; then
    echo "‚úÖ SSH agent —Ä–∞–±–æ—Ç–∞–µ—Ç"
    echo "–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫–ª—é—á–∏:"
    ssh-add -l
else
    echo "‚ùå SSH agent –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç"
fi

echo ""
echo "üéØ –í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!"
